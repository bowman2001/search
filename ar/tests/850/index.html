<!doctype html><html lang=ar dir=rtl><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>[ar] Test Post #850</title><link rel=stylesheet href=/search/css/bundle.rtl.css><script>const theme=localStorage.getItem("theme");theme==="dark"&&document.documentElement.setAttribute("data-theme","dark")</script></head><body><header><nav class=navbar><ul><li class=nav-item><a class=nav-link href=/search/><svg aria-hidden="true" class="bi bi-housebi bi-house hi-svg-inline navbar-icon me-1" fill="currentcolor" height="1.25rem" viewBox="0 0 16 16" width="1.25rem" xmlns="http://www.w3.org/2000/svg"><path d="M8.707 1.5a1 1 0 00-1.414.0L.646 8.146a.5.5.0 00.708.708L2 8.207V13.5A1.5 1.5.0 003.5 15h9a1.5 1.5.0 001.5-1.5V8.207l.646.647a.5.5.0 00.708-.708L13 5.793V2.5a.5.5.0 00-.5-.5h-1a.5.5.0 00-.5.5v1.293L8.707 1.5zM13 7.207V13.5a.5.5.0 01-.5.5h-9a.5.5.0 01-.5-.5V7.207l5-5 5 5z"/></svg></a></li><li class=nav-item><a class=nav-link target=_blank href=https://github.com/hugomods/search><svg aria-hidden="true" class="bi bi-githubbi bi-github hi-svg-inline navbar-icon me-1" fill="currentcolor" height="1.25rem" viewBox="0 0 16 16" width="1.25rem" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.012 8.012.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a></li></ul><ul class=ms-auto><li class=nav-item><button class="nav-link theme-toggle"><svg aria-hidden="true" class="bi bi-circle-halfbi bi-circle-half hi-svg-inline" fill="currentcolor" height="1.25rem" viewBox="0 0 16 16" width="1.25rem" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></svg></button></li><li class=nav-item><button class="nav-link search-modal-toggle"><svg aria-hidden="true" class="bi bi-searchbi bi-search hi-svg-inline" fill="currentcolor" height="1.25rem" viewBox="0 0 16 16" width="1.25rem" xmlns="http://www.w3.org/2000/svg"><path d="M11.742 10.344a6.5 6.5.0 10-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 001.415-1.414l-3.85-3.85a1.007 1.007.0 00-.115-.1zM12 6.5a5.5 5.5.0 11-11 0 5.5 5.5.0 0111 0z"/></svg></button></li></ul></nav></header><div class=content><div class=main><div class=alerts role=alert><p>1. Anything except the Modal are not belong to the built-in UI.</p><p>2. The built-in UI doesn't contain the dark theme, what you saw is defined
by the demo site via CSS variables.</p><p>3. <kbd>CTRL</kbd>+<kbd>K</kbd> or click the search button to search on
modal.</p><p>4. Search on single page via form below.</p><form action=/search/ar/search/><input type=search name=q placeholder="Search on Single Page"></form></div><h1>[ar] Test Post #850</h1><hr><div><h1 id=hugo-client-side-fuzzy-search-module>Hugo Client Side Fuzzy Search Module</h1><p><a href=https://github.com/hugomods/search/network/dependents><img src="https://img.shields.io/badge/dynamic/json?color=success&amp;label=used+by&amp;query=repositories_humanize&amp;logo=hugo&amp;style=flat-square&amp;url=https://api.razonyang.com/v1/github/dependents/hugomods/search" alt="Used By"></a>
<img src="https://img.shields.io/badge/dynamic/json?color=important&amp;label=requirements&amp;query=requirements&amp;logo=hugo&amp;style=flat-square&amp;url=https://api.razonyang.com/v1/hugo/modules/github.com/hugomods/search" alt="Hugo Requirements">
<a href=https://github.com/hugomods/search/blob/main/LICENSE><img src="https://img.shields.io/github/license/hugomods/search?style=flat-square" alt=License></a>
<a href=https://github.com/hugomods/search/tags><img src="https://img.shields.io/github/v/tag/hugomods/search?label=version&amp;style=flat-square" alt=Version></a></p><p>A powerful, flexible and responsive <a href=https://gohugo.io/>Hugo</a> client side fuzzy search module built on top of <a href=https://github.com/krisk/Fuse>Fuse.js</a>.</p><h2 id=features>Features</h2><ul><li>Fast: the <a href=https://projects.razonyang.com/hugo-mod-search>demo site</a> built with 10k posts (~30k pages), see also the <a href=https://github.com/hugomods/search/actions/workflows/gh-pages.yml>GitHub Pages workflow</a>.</li><li>Modes: single search page and modal (auto complete).</li><li>Fuzzy search by title, summary, headings and content, the content was disabled by default.</li><li><a href=#parameters>Flexible and configurable</a>.</li><li>Built-in responsive, theme-less UI and interactive logic.</li><li>Allow restyling the UI with <a href=#css-variables>CSS variables</a>.</li><li>Pagination: load more when scrolling to the bottom of results.</li><li>Highlighting matches.</li><li>Statistic: the number of search results, search time.</li><li>Results navigation: <code>↑</code> and <code>↓</code> to navigate, <code>⏎</code> to select.</li><li>Filters: filterable by language.</li><li>Sorting: sortable by score and date.</li><li><a href=#internationalization>Internationalization (i18n)</a>.</li><li>Multilingual search: searchable from single language or all languages.</li><li>Lightweight.</li></ul><table><thead><tr><th></th><th style=text-align:center>CSS</th><th style=text-align:center>JS</th><th style=text-align:center>Total</th></tr></thead><tbody><tr><td>Compressed</td><td style=text-align:center><code>~20kB</code></td><td style=text-align:center><code>~47kB</code></td><td style=text-align:center><code>~67kB</code></td></tr><tr><td>Gzip</td><td style=text-align:center><code>~6kB</code></td><td style=text-align:center><code>~15kB</code></td><td style=text-align:center><code>~21kB</code></td></tr></tbody></table><ul><li>Configurable shortcuts.</li></ul><table><thead><tr><th>Default Shortcuts</th><th>Description</th></tr></thead><tbody><tr><td>CTRL + K</td><td>to search.</td></tr><tr><td>ESC</td><td>to close.</td></tr></tbody></table><ul><li>Excluding pages by setting the <code>noindex</code> page parameter as <code>true</code>.</li><li>RTL languages support: experimental.</li></ul><h2 id=requirements>Requirements</h2><ul><li>Hugo <strong>extended</strong> version <code>v0.110.0</code> above.</li><li><a href=https://gohugo.io/hugo-modules/use-modules/#prerequisite>Hugo Module</a>.</li><li>PostCSS, Autoprefixer and RTLCSS, you can install those dependencies via one command <code>npm i postcss-cli autoprefixer rtlcss</code>.</li></ul><h2 id=guide>Guide</h2><blockquote><p>There is an <a href=https://projects.razonyang.com/hugo-mod-search/>example site</a> and it&rsquo;s <a href=exampleSite>source code</a> to help you get started.</p></blockquote><h3 id=1-import-the-module>1. Import the module</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[[<span style=color:#a6e22e>modules</span>.<span style=color:#a6e22e>imports</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>path</span> = <span style=color:#e6db74>&#34;github.com/hugomods/search&#34;</span>
</span></span></code></pre></div><h3 id=2-single-search-page-base-template>2. Single Search Page Base Template</h3><blockquote><p>Skip this step if you&rsquo;re not using single search page.</p></blockquote><p>When using single search page, we probably want to include the search&rsquo;s CSS and JS on that page only.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// baseof.html
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{{ <span style=color:#66d9ef>if</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>isSearchPage</span> }}
</span></span><span style=display:flex><span>  <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>{{ <span style=color:#a6e22e>end</span> }}
</span></span></code></pre></div><p>But we couldn&rsquo;t do that, since there isn&rsquo;t a way to recognize whether the current page is a search page. See hugomods/search#76 and gohugoio/hugo#9368.</p><p>So we need a workaround, according to the Hugo look up order, we can achieve this by creating the <code>baseof.search.html</code> template for single search page, see the demo site&rsquo;s <a href=exampleSite/layouts/_default/baseof.search.html>baseof.search.html</a>.</p><h3 id=3-include-the-css>3. Include the CSS</h3><p>There are three approaches to include the CSS. The first two approaches are recommended for modal mode, since the CSS file is too small as a single CSS file, embed the CSS into your own bundle is helpful to reduce extra HTTP requests.
The last approach is recommended in the case of using only the single search page mode.</p><h4 id=include-the-css-via-hugo-pipe-recommended>Include the CSS via Hugo Pipe (Recommended)</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{<span style=color:#75715e>/* NOTE: we must change the CSS target to separate the style between LTR and RTL sites. */</span>}}
</span></span><span style=display:flex><span>{{<span style=color:#75715e>/* Otherwise, Hugo may treats it as the same style (cached). */</span>}}
</span></span><span style=display:flex><span>{{<span style=color:#75715e>/* Ignore it if your themes and sites aren&#39;t going to support RTL. */</span>}}
</span></span><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>rtl</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>eq</span> .<span style=color:#a6e22e>Language</span>.<span style=color:#a6e22e>LanguageDirection</span> <span style=color:#e6db74>&#34;rtl&#34;</span> }}
</span></span><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>cssTarget</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cond</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>rtl</span> <span style=color:#e6db74>&#34;css/main.rtl.css&#34;</span> <span style=color:#e6db74>&#34;css/main.css&#34;</span> }}
</span></span><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>css</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span>.<span style=color:#a6e22e>Get</span> <span style=color:#e6db74>&#34;main.scss&#34;</span> | <span style=color:#a6e22e>toCSS</span> }}
</span></span><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>searchCSS</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>partial</span> <span style=color:#e6db74>&#34;search/assets/css-resource&#34;</span> . }}
</span></span><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>css</span> = <span style=color:#a6e22e>slice</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>searchCSS</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>css</span> | <span style=color:#a6e22e>resources</span>.<span style=color:#a6e22e>Concat</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>cssTarget</span> }}
</span></span><span style=display:flex><span>&lt;<span style=color:#a6e22e>link</span> <span style=color:#a6e22e>rel</span>=<span style=color:#e6db74>&#34;stylesheet&#34;</span> <span style=color:#a6e22e>href</span>=<span style=color:#e6db74>&#34;{{ $css.RelPermalink }}&#34;</span> <span style=color:#f92672>/</span>&gt;
</span></span></code></pre></div><ul><li>Note that <code>slice $searchCSS $css</code> puts the <code>$css</code> after <code>$searchCSS</code>, so that <code>$css</code> style can override the search&rsquo;s.</li><li>The <code>search/assets/css-resource</code> is a partial that returns a search CSS resource.</li></ul><h4 id=import-the-css-via-scss-file-recommended>Import the CSS via SCSS File (Recommended)</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#66d9ef>@import</span> <span style=color:#e6db74>&#34;search/scss/index&#34;</span>;
</span></span></code></pre></div><p>This way is more complex than the former, you&rsquo;ll need to take care of the <a href=https://gohugo.io/hugo-pipes/postcss/>PostCSS</a>, Autoprefixer and <a href=https://rtlcss.com/>RTLCSS</a>.
See how <a href=layouts/partials/search/assets/css-resource.html>CSS resource partial</a> does.</p><h4 id=include-the-css-via-partial-recommended-for-single-search-page>Include the CSS via Partial (Recommended for Single Search Page)</h4><p>This approach generates a <code>&lt;link></code> tag.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{ <span style=color:#a6e22e>partial</span> <span style=color:#e6db74>&#34;search/assets/css&#34;</span> . }}
</span></span></code></pre></div><h3 id=4-include-the-javascript>4. Include the JavaScript</h3><p>We can achieve this via two ways.</p><h4 id=include-the-javascript-via-hugo-pipe-recommended>Include the JavaScript via Hugo Pipe (Recommended)</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>js</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>resources</span>.<span style=color:#a6e22e>Get</span> <span style=color:#e6db74>&#34;main.ts&#34;</span> | <span style=color:#a6e22e>js</span>.<span style=color:#a6e22e>Build</span> }}
</span></span><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>searchJS</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>partial</span> <span style=color:#e6db74>&#34;search/assets/js-resource&#34;</span> . }}
</span></span><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>js</span> = <span style=color:#a6e22e>slice</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>js</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>searchJS</span> | <span style=color:#a6e22e>resources</span>.<span style=color:#a6e22e>Concat</span> <span style=color:#e6db74>&#34;js/main.js&#34;</span> }}
</span></span><span style=display:flex><span>&lt;<span style=color:#a6e22e>script</span> <span style=color:#a6e22e>src</span>=<span style=color:#e6db74>&#34;{{ $js.RelPermalink }}&#34;</span> <span style=color:#66d9ef>defer</span>&gt;&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>script</span>&gt;
</span></span></code></pre></div><blockquote><p>Please note that you should not set the <code>async</code> attribute on the <code>script</code>.</p></blockquote><ul><li>The <code>search/assets/js-resource</code> is a partial that returns a search JS resource.</li></ul><h4 id=include-the-javascript-via-partial-recommended-for-single-search-page>Include the JavaScript via Partial (Recommended for Single Search Page)</h4><p>This partial will generate a <code>&lt;script></code> tag.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{ <span style=color:#a6e22e>partial</span> <span style=color:#e6db74>&#34;search/assets/js&#34;</span> . }}
</span></span></code></pre></div><h3 id=5-create-a-modal-toggle-button-optional>5. Create a Modal Toggle Button (Optional)</h3><blockquote><p>Skip this step if you&rsquo;re not using the modal (auto complete) mode.</p></blockquote><p>This step is optional, you&rsquo;re still be able to open the search modal by shortcuts (default to CTRL + K), but I recommend adding such a toggle button for getting better user experience, because users are not aware of these shortcuts.</p><p>Adjust the button to your theme UI, place it wherever you like, for example,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;search-modal-toggle&#34;</span>&gt;Search&lt;/<span style=color:#f92672>button</span>&gt;
</span></span></code></pre></div><ul><li>The toggle <em>button</em> can be any HTML tag, not just the <code>button</code>, since the module will listen the <code>click</code> event on the tags have the <code>search-modal-toggle</code> class name, this also means that the page can contain multiple toggle <em>buttons</em>.</li></ul><h3 id=6-create-a-form-or-link-for-single-search-page-optional>6. Create a Form or Link for Single Search Page (Optional)</h3><blockquote><p>Skip this step if you&rsquo;re not using the single search page mode.</p></blockquote><p>When using single search page mode, we&rsquo;ll need to create a entrance for users, such as a link to the search page, or a search form.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{ <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>searchURL</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>partial</span> <span style=color:#e6db74>&#34;search/functions/search-url&#34;</span> . }}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>{{<span style=color:#75715e>/* Link to search page. */</span>}}
</span></span><span style=display:flex><span>&lt;<span style=color:#a6e22e>a</span> <span style=color:#a6e22e>href</span>=<span style=color:#e6db74>&#34;{{ $searchURL }}&#34;</span>&gt;<span style=color:#a6e22e>Search</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>a</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>{{<span style=color:#75715e>/* Search form. */</span>}}
</span></span><span style=display:flex><span>&lt;<span style=color:#a6e22e>form</span> <span style=color:#a6e22e>action</span>=<span style=color:#e6db74>&#34;{{ $searchURL }}&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#a6e22e>input</span> <span style=color:#66d9ef>type</span>=<span style=color:#e6db74>&#34;search&#34;</span> <span style=color:#a6e22e>name</span>=<span style=color:#e6db74>&#34;q&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>form</span>&gt;
</span></span></code></pre></div><p>The single search page accepts the following parameters from URL.</p><ul><li><code>q</code>: query, the search input value.</li></ul><h3 id=7-set-up-the-search-index>7. Set up the search index</h3><p>Append the <code>Search</code> and <code>SearchIndex</code> formats into <code>outputs.home</code>.</p><blockquote><p>The <code>Search</code> format is required by the single search page, remove it if you&rsquo;re using the modal mode only.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#75715e># config.toml</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>outputs</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>home</span> = [<span style=color:#e6db74>&#34;HTML&#34;</span>, <span style=color:#e6db74>&#34;Search&#34;</span>, <span style=color:#e6db74>&#34;SearchIndex&#34;</span>]
</span></span></code></pre></div><h2 id=parameters>Parameters</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#75715e># config.toml</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>search</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>stall_threshold</span> = <span style=color:#ae81ff>200</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ...</span>
</span></span></code></pre></div><table><thead><tr><th>Name</th><th style=text-align:center>Type</th><th style=text-align:center>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>stall_threshold</code></td><td style=text-align:center>Integer</td><td style=text-align:center><code>300</code></td><td>How many milliseconds must elapse before considering the autocomplete experience stalled.</td></tr><tr><td><code>case_sensitive</code></td><td style=text-align:center>Boolean</td><td style=text-align:center><code>false</code></td><td>Indicates whether comparisons should be case sensitive.</td></tr><tr><td><code>min_match_char_length</code></td><td style=text-align:center>Integer</td><td style=text-align:center><code>1</code></td><td>Only the matches whose length exceeds this value will be returned. (For instance, if you want to ignore single character matches in the result, set it to <code>2</code>).</td></tr><tr><td><code>location</code></td><td style=text-align:center>Integer</td><td style=text-align:center><code>0</code></td><td>Determines approximately where in the text is the pattern expected to be found.</td></tr><tr><td><code>threshold</code></td><td style=text-align:center>Integer</td><td style=text-align:center><code>0.6</code></td><td>At what point does the match algorithm give up. A threshold of <code>0.0</code> requires a perfect match (of both letters and location), a threshold of <code>1.0</code> would match anything.</td></tr><tr><td><code>distance</code></td><td style=text-align:center>Integer</td><td style=text-align:center><code>100</code></td><td>Determines how close the match must be to the fuzzy location (specified by location). An exact letter match which is distance characters away from the fuzzy location would score as a complete mismatch. A distance of 0 requires the match be at the exact location specified. A distance of <code>1000</code> would require a perfect match to be within <code>800</code> characters of the location to be found using a threshold of <code>0.8</code>.</td></tr><tr><td><code>ignore_location</code></td><td style=text-align:center>Boolean</td><td style=text-align:center><code>false</code></td><td>When true, search will ignore location and distance, so it won&rsquo;t matter where in the string the pattern appears.</td></tr><tr><td><code>shortcut_close</code></td><td style=text-align:center>Array</td><td style=text-align:center><code>["Escape"]</code></td><td>Shortcuts to close the search modal. Empty array means disabled. See <a href=https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values>key values for keyboard events</a>.</td></tr><tr><td><code>shortcut_search</code></td><td style=text-align:center>Array</td><td style=text-align:center><code>["Control", "k"]</code></td><td>Shortcuts to open the search modal. Leave it empty to disable.</td></tr><tr><td><del><code>input_placeholder</code></del></td><td style=text-align:center>String</td><td style=text-align:center><code>i18n "search"</code></td><td><strong>Deprecated</strong>, please use <a href=#internationalization>i18n</a> instead.</td></tr><tr><td><code>paginate</code></td><td style=text-align:center>Integer</td><td style=text-align:center><code>20</code></td><td>How many results per page, at least <code>20</code>, for making sure the load more event will be able to trigger.</td></tr><tr><td><code>max_results</code></td><td style=text-align:center>Integer</td><td style=text-align:center><code>100</code></td><td>Denotes the max number of returned search results.</td></tr><tr><td><code>index_content</code></td><td style=text-align:center>Boolean</td><td style=text-align:center><code>false</code></td><td>When <code>true</code>, the engine will also search by content, you may need to tweak the <code>distance</code> parameter as well. Please note that, it may become a performance killer on a large site.</td></tr><tr><td><code>index_all_pages</code></td><td style=text-align:center>Boolean</td><td style=text-align:center><code>true</code></td><td>When <code>true</code>, all pages except <code>noindex</code> pages will be indexed, include non-regular pages, such as home and taxonomy lists.</td></tr><tr><td><code>expand_results_meta</code></td><td style=text-align:center>Boolean</td><td style=text-align:center><code>false</code></td><td>When <code>true</code>, expand the results meta by default.</td></tr><tr><td><code>modal_container</code></td><td style=text-align:center>String</td><td style=text-align:center><code>body</code></td><td>The container for the search modal. It should be a valid CSS selector. Leave it empty if you&rsquo;re using single search page mode only.</td></tr><tr><td><code>lazy_loading</code></td><td style=text-align:center>Boolean</td><td style=text-align:center><code>true</code></td><td>Lazy loading the indices.</td></tr></tbody></table><h2 id=css-variables>CSS Variables</h2><p>You can easily to adjust the search UI to fit your theme and dark mode via the following CSS variables.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a6e22e>root</span> {
</span></span><span style=display:flex><span>  --search-primary: <span style=color:#66d9ef>skyblue</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code>--search-primary</code></td><td>Primary color.</td></tr><tr><td><code>--search-container-bg</code></td><td>Container background color.</td></tr><tr><td><code>--search-bg</code></td><td>Background color.</td></tr><tr><td><code>--search-color</code></td><td>Primary text color.</td></tr><tr><td><code>--search-color-secondary</code></td><td>Secondary text color.</td></tr><tr><td><code>--search-result-bg</code></td><td>Result background color.</td></tr><tr><td><code>--search-result-bg-active</code></td><td>Result background color on active.</td></tr><tr><td><code>--search-result-color</code></td><td>Primary result text color.</td></tr><tr><td><code>--search-result-color-active</code></td><td>Primary result text color on active.</td></tr><tr><td><code>--search-result-color-secondary</code></td><td>Secondary result text color.</td></tr><tr><td><code>--search-result-color-secondary-active</code></td><td>Secondary result text color on active.</td></tr><tr><td><code>--search-result-highlight-bg</code></td><td>The highlight result background color, default to <code>inherit</code>.</td></tr><tr><td><code>--search-result-highlight-color</code></td><td>The highlight result color, default to <code>inherit</code>.</td></tr><tr><td><code>--search-border-color</code></td><td>Border color.</td></tr></tbody></table><h2 id=page-parameters>Page Parameters</h2><blockquote><p>AKA front matter.</p></blockquote><table><thead><tr><th>Name</th><th style=text-align:center>Type</th><th style=text-align:center>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>noindex</code></td><td style=text-align:center>Boolean</td><td style=text-align:center><code>false</code></td><td>When <code>true</code>, the page won&rsquo;t be indexed, that is, it won&rsquo;t appear on the search results.</td></tr></tbody></table><h2 id=internationalization>Internationalization</h2><p>Currently, this module supports the following languages, please feel free to open a PR to add more languages.</p><blockquote><p>The translations are stored in the <a href=data/search/i18n><code>data/search/i18n</code></a> folder, it&rsquo;s different from Hugo i18n, since the module using JS instead of templates to render the HTML markup.</p></blockquote><ul><li>English (<code>en</code>)</li><li>Simplified Chinese (<code>zh-hans</code>)</li><li>Traditional Chinese <code>zh-hant</code>)</li></ul><h3 id=custom-i18n-translations>Custom i18n Translations</h3><p>Let&rsquo;s take the <code>input_placeholder</code> as an example, just create the corresponding translations file under your project&rsquo;s root.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#75715e># data/search/i18n/en.toml</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>input_placeholder</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>other</span> = <span style=color:#e6db74>&#34;SEARCH INPUT PLACEHOLDER&#34;</span>
</span></span></code></pre></div><p>Now, the <code>input_placeholder</code> will be <code>SEARCH INPUT PLACEHOLDER</code> in <code>en</code> sites.</p><p>All the available translations&rsquo; keys can be found at <a href=data/search/i18n><code>data/search/i18n</code></a> folder.</p><h2 id=partials-functions>Partial&rsquo;s Functions</h2><table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>search/functions/search-url</code></td><td>Returns the search URL of current language site, which can be used to generate a link to the search page or the <code>action</code> for a search form.</td></tr></tbody></table></div></div><div class=sidebar><div><h3>Languages</h3><hr><ul><li><a href=/search/>English</a></li><li><a href=/search/zh-hans/>简体中文</a></li><li><a href=/search/zh-hant/>繁体中文</a></li><li><a href=/search/ar/>العربية</a></li></ul></div><div><h3>Categories</h3><hr><ul><li><a href=/search/ar/categories/test/>Test</a></li></ul></div><div><h3>Tags</h3><hr><ul><li><a href=/search/ar/tags/tag1/>Tag1</a></li><li><a href=/search/ar/tags/tag10/>Tag10</a></li><li><a href=/search/ar/tags/tag100/>Tag100</a></li><li><a href=/search/ar/tags/tag1000/>Tag1000</a></li><li><a href=/search/ar/tags/tag1001/>Tag1001</a></li><li><a href=/search/ar/tags/tag1002/>Tag1002</a></li><li><a href=/search/ar/tags/tag1003/>Tag1003</a></li><li><a href=/search/ar/tags/tag1004/>Tag1004</a></li><li><a href=/search/ar/tags/tag1005/>Tag1005</a></li><li><a href=/search/ar/tags/tag1006/>Tag1006</a></li></ul></div><h3>Posts</h3><hr><ul><li><a href=/search/ar/tests/1/>[ar] Test Post #1</a></li><li><a href=/search/ar/tests/2/>[ar] Test Post #2</a></li><li><a href=/search/ar/tests/3/>[ar] Test Post #3</a></li><li><a href=/search/ar/tests/4/>[ar] Test Post #4</a></li><li><a href=/search/ar/tests/5/>[ar] Test Post #5</a></li><li><a href=/search/ar/tests/6/>[ar] Test Post #6</a></li><li><a href=/search/ar/tests/7/>[ar] Test Post #7</a></li><li><a href=/search/ar/tests/8/>[ar] Test Post #8</a></li><li><a href=/search/ar/tests/9/>[ar] Test Post #9</a></li><li><a href=/search/ar/tests/10/>[ar] Test Post #10</a></li></ul></div></div><script src=/search/js/bundle.js defer></script></body></html>